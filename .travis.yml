branches:
  only:
  - master
sudo: required
os: linux
dist: bionic
language: generic
services:
- docker
python:
- 3.7
before_install:
- chmod +x ./deployment-setup/build_scripts/install-dependencies.sh
- chmod +x ./deployment-setup/build_scripts/inject-secrets.sh
- chmod +x ./deployment-setup/build_scripts/build-docker.sh
- chmod +x ./deployment-setup/build_scripts/deploy-k8s.sh
install:
- "./deployment-setup/build_scripts/install-dependencies.sh"
- "./deployment-setup/build_scripts/inject-secrets.sh"
script:
- "./deployment-setup/build_scripts/build-docker.sh"
- "./deployment-setup/build_scripts/deploy-k8s.sh"
env:
  global:
  - secure: d6ag9M9aOyQ/6DuPRBxkZJZ/AJ746KaImRd0L0Dy4xPr+BIp8PdIBH1tFhw5Tpd/PXtBEaBLVoRwA41cNaCW8+DBQa4174CkyjZOBdSxC9vsjM96c/BkvxNl94atvFEwH8WCf9AOlaRdUx3Akugt5qC8N/fIFphXjDkJ2ffwChC1HsIY5gGYZ3dls1vVPFv3gx8yYoiqIfmXvP+EJNtJwajhyAkmkvv1qQHNtLFDs0+fkPTvOULojfcHR0uglb15IO0MHTWTk+M+WQGSZ5kuZ/HAtgLGx7V1mDdjA0xT9K+l01wGZu+MoXg9/uDmysoGhgWepq/O5t7N12ab0IbO6UNfn11rKPDWxyaF/DWY5Vwnu4NKp4sCsiGH+B2gZPDm0RVRB62Mofh1OyGHS3pf+wQ2un8tfTPOwY2wmVo3UhwHNNo5u9zmaO7x58b19iEqvmLCrJpY4bv/kR9XVmYa1twWht42xyaRO0Z2A88EiDvWg2Wm/SgwmuiuLhhoPfsbRQqMVEGHgIiAvMZFT8I+URwe7uQrZoeOW/rdFn3iMhirB2z3zcFNTMCtKzarwwinx2NxXgnWfDItE/A+QiaAzLFd5qS3//bMDiNS+Ci8Ojr8zc6cN8F4y30kQ1TbNdgQGrKIUw1eBzwubIq/hwyDn5pZYT6T3KMP0uc0GU/VMdQ=
  - secure: LHH/HcHTgAbolobpvPFg8mW0zj/6UXwE9yVKeLX2t9c8v0Bp49wiU2wNbDktD0Ko5q1N5E5PmzzvkEmVw8q5XcNzMxLtcuhRmxxlruXW0O2+WoBcLmU+BbJ43JkUKiWzvGjcMVJpUDbzoLfUXcr4v9NAmjNzRT2nd6UC9RLSPR9IZ3EFM4XjPLKAKuwSYTqtXb6ftedP4VdI93PV5RgBa2pFa4mImAwJq10V7fP10jSDtiZ9Z4qdk3s6v8BnxezO3NSAssUkUEoU425Thhz3SiHTZOGptTTTOIXdJ3oOHXSmMwqbBuU6MwoQOOhGc3B507+jFRRPoX66HpfMKCcLi3Un5l8pLpLwICAQjyMjv1NAhQKuseJjKI2+U3YAyJJKEt6Slz+Yl83vqvD8BGbAw9qkHlm/kaDblPkHPKOhHgpTX4bYlo98k0FSThgCf0+ASnKYTNj/KDHDCSSvWMsMrbt5onXFD3nqKmLI2mh7ZcWZKgbni+HCUQqgQ9OOa1DoPRq2MBP2Uew15TFRA8Sb3H3wI+vnyqQAKdz1ka7F/AKxJdwNDaCYIPprv03rC/xD0jKlAnU/3h2ir8wZbU56hK5bHKA/CWJWkIkIhAtH2L6IkziKi76e4PvvrLEe/J2HzwKq0Iog5IMjaM+49J6mFGzCd7ZcfWxq4ifId1XRncs=
  - secure: Vk0lkFdW3waMIsttNmPhekdI1D47tWxKQnZcPdkuMpVOE5kst8k3jYRmLRiX3NjIwAAsd30NHlxgSrDT9YvmMU8YuCRVNyPDVL3WZJAto5Sypz9vrNJZUqSbwJHHN1OhpBg+3ZKD/FkzPjZqun7Fik93I8LStIwRHJNPU7226gURp5GACBYdVFM+rxWNcBel6dyO60MDUmTUiEJea/cSbUPEghucfKPLVmrxT1t44orgunS9ZbnBxrZlhtUDY+8LK5oAPAO6cmPdE/ploTjyXIRWYpAyIQiAhSF3g4NTFMadtFP20rmuRAOrA4HIgP7q9cWgt+mYL2hS+EV/4V4cQEUidcsfZ+n+TO6wLDUs+5fttjdXKez7qc0OiNPYudN717z9RvrlKeFC+KOdPg+X4wteQMUFMn9oha8SCu16zHt8qVC9NrvlOw8NgHjbsyN7Cw9FwZ/Mr5tbSgEQ/AQrZhRmMPO8psLg0QOnYfdoVPyWCvBJ+v93QehNlCnkU8WGAM2am/+y7mwl1lWyftOIPYy0Y3oEYwcb9WBwwG6Y6TrIUa79/PRVIjlqbb5gZd3plmteIMTI8ZJUMEZys2H3iq//K1NUbcyHH/49TH80795GyheV2j+OU+kMA+cOKfzZASDUVN8Hvke2tI0plFQ7KpJOPiyRDBmVo1rBHzHxFOA=
  - secure: uWIb2yr0LLuLjQeTit5SRBjaXGdqSOhi/dP7wBWH6UrGi03cDVauXaZ90/kQyyXfukyhdOorRv+zet+0GZf4mNXw5a9Gg0JOynKCZ8TrrwRYIOLUIBLn/JqQhtUydzO1vvtC2OrHPytH/Pf/X3hmD7kq3HUlOOJJtoKkXa+TmfHevNCZBePC0cwD4EPE3XSOhLBuots5LHgk7MST9wn+gVokujCvPDu9hEvUbgbe8OcHz6kmlD8SwDpUB1v+j9Fw03Uo03MFNn4FROKgNclrAQAnnMssyuYbql5sB2fuvSVftHjeoM7DmHbEEnVtMG3N56lyOdWPH467JAQf35rlQ36EkylfYYfH8epKp+Zp5cAGg835C4eIdqEi4SVjij8cz8q4TRmKEfHepmWXwMflngQuc/Oh1XUEMkwLHMI5QmFyw0FfFGg60UMU6ay6+Y0s3I1m1wuk57jF3qZYaNnEPqWS/edW74Xx4M36chR8adkL0o7G3bmGmTt7JCRSt3j0WfOdORrl/aTQOgqmgBJmAcoaJ+ZyYQJjQbRyO1P/qB3BPcnjy2n6P1uPblHH4r7khCXqGMLK0vxJ5e9C83AXairkHx3+u579NK7TlYCa1Anqj5UjNjQrPPPkNzRxSirLra8UEWmWl+OM/VGecnU2TispNBoy5Blq+0bwpApxCTg=
  - secure: DxK+dYa06RNjFH5JHZZD4RWburP1Fk95A5QVkFGNE6g1kK9KbJy3zwTUhkjrY6pU25CBcxNtjEzD+iDFjyxEF6Qbkzc/tuWonuxiqfsLGk6Zf59Jb1bPU0iL2zDC4ukQLhVMGPN8t93NRC6GuknDP+zxKUUaYqd7r/hoHwBT+4c5O4ivjawybAO35GdhYW6tZPriNyR9i8PnwneTmcynseTNktW0590HwAYd9S0yAW0oBNT5rBl0Xpw6rqfxiX6Syf7yWzNku2ZH9qSueq/5b0bRfyi1lUOozb13Nf3R/BSPCuMYaLxNHH2B0jSZYAOCzde01Yg3uC+a7+OPNTWOLwYSoMTD01AXAuK97tSf8ryJ8jEVK2LxttLxArjcye85YzCDS/OD0e+XAs3dSNO8CIoVOoSwGqAl5aFcYG3+gaVJqCBGULaBqvS/R5Jsn/B1reDAIJUzZmkDvE6asOKHZdpdDUq9AxA3i/Zevs0jhuXZ1KKCyw8Hm4nBLNyGbnrV7VfoWPfgKfQz4u2gGyHH5l82dwC1+djkWiZGLyp65utwiv9hQATRbuGKATOSFc8/iGhlbxlwlQM69de8cZejbBSBVN3odPjn1VN7ee1Ae39lrTuQ6Fx/kihKyfJwA/f0lCEdsuTziiH6zL7UAzSQ98f0yWFPzqeeW8pMRgMpqfA=
