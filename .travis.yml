branches:
  only:
  - master
sudo: required
os: linux
dist: bionic
language: generic
services:
- docker
python:
- 3.7
before_install:
- chmod +x ./deployment-setup/build_scripts/install-dependencies.sh
- chmod +x ./deployment-setup/build_scripts/inject-secrets.sh
- chmod +x ./deployment-setup/build_scripts/build-docker.sh
- chmod +x ./deployment-setup/build_scripts/deploy-k8s.sh
install:
- "./deployment-setup/build_scripts/install-dependencies.sh"
- "./deployment-setup/build_scripts/inject-secrets.sh"
script:
- "./deployment-setup/build_scripts/build-docker.sh"
- "./deployment-setup/build_scripts/deploy-k8s.sh"
env:
  global:
  - secure: gMysl2FVzzVg+244HnJ8qOM248DRAuUnRIxcvAY/vPe5lo1ZdL0fZsQQFJtfvlRTskBkrQzVAft9UxXqepoc4bMeuk3IWx5sK6KeRsATxRwISnlL3pFGk+JFBHLjzdfnuW3ElHK0J47ZvfLEILPIDhbb3LXYcrlDxkfqPMnOvJL4IckxY2Whc1Vlp31nWB/atJMv4z2fbCJCR7K/eLfsC02SuAcXW6jQKO4/T/anEKczJstNaUqq8LflpWuQAAwOVh9hSyo2cRJ3oUbvQU/+Fdprfbrb5zTjfsCVJB+jYzcq4FgC6pvgtuS0IDjA/+vkMqGeMjHwV9VreXl0Qw17KBvuKEzqBEd95A/cZ327PdsR0wfnEIzXY5w0aaTmGnJKXwMkJK+Rvelj11cw6p4CjslVSm4QC/HWc8caw/R724c7EawU2Hxjbr6iIcu/zg2ZhmAwOETrGKAqHawgeESJ+dF7i8pMQQli9OVgpQ21JeG8QwDNBSkXFG2ck5ex/sfYAw9tPTAawckiQ4pT9/2NMQH9fZAEg0FWVZQ2KRocLjEYdSnYyvBBJwyPDmsF37eusS6qrkRujivKyNeE9OSA9/NJnExgXZiK2PcMZpSLc3RWBGSKOgNkJ1xYoJBPErVAkN3zop3HJKIjmxRqPJ+DJ9iGoQBmVUutLij/T7S6wSk=
  - secure: wfIRimhqc4484QrcPvGT9VBBJd5V5vchmwktbzTlI5xhoA1PYoWLoYXq7Wi/w04YSrcN2+N5lqZrbOz45ItCx1EJpbu0/dZEwjfAE3ipOqUO0TNdFBoUDF1Dz5GNs5Z6YAv2Qjv3S5u3CiD4n8bo9EtRxj0+UDtMrLcyMVv0qrHspv+hGZbGbL6ST/OpBaoqu62ZwLSl4S/f1ihE796SzuNy4xBTPfz5G8BYCkbdZa36e2pbFnXvPFpBj+CmLxqWwxAgUD5haFgdL02tBYq/34k4c80Fmu3fBK/ffwvCSmD+XSP82VK01Hqe115rPeA32wNs5FScb77C8tBJqkLoeBB4m8PgYVWMqjxrX9UB/zfZ+bMK8Esomk/0r4Dt6M5a3+ymzZL7SZaxkczFQpsp6qLLrlSSvIlK71dMG/GXiIn97MBHmwOUlF5gHKB1f91jBVbHVx1/wf0ywHKBQe32cwzJtDIsTDF3Hob94bm9OwTRwCV/YFkvJwo1Vc/+90hvQUCuI5fzG1diX7icc493j2UVy2zWFw25T4tcDjD5yRCP2HGtxMyk+ZeWakeiTdog22G4xx2uothMr2tX7pRP1PoXIh9gYoF+XFLO5OPJn05vvJu6mGzr8WyY4yS7yWBmYXbThtY3y3fIZ63ugkyyj23/ys8J9kq/JENo0L7hrCg=
  - secure: eNeYcXAnc3vNl71QnHeh3zaaTFwp0vZVxj7rvJAQcOfJrg+ibCeU4pl0yr3HvnwCS55CuRBZS1gKC2xsZbdjq5e3XRILkhzSLxd/FGU9hQLTLLw4iX9OeimbcXmR8PrAK+8ci+XE5dbWF3zEJ1dcrHhzFQ2j3/CF6S7pZHKSncavKE9xmuTJY8hTIC3CeWQ7CCFXNEjx0pWmRb1I9UJ+GiKQizU2ixoNjo5wYCpzIJTrNX6zsfLc+8lbNQ6ukp2rTF8Mz1tT6D+wNAaIwvNboUSbXA41BxaDIjZefwH7DwEGas4xvnH1f0ghwtxMcC5cRixe2qEjjAZCd/qlK4OIygkQbs2SptZWJz7efQPVwTPnbH0WNyEFfn9DdNijCRclwNhOeE4r/QTm/Je9ksJrHKlohSlV09IjFslyIgWcaOStfHuGFy2e/JlEeXn78AA1tIxxL3Zad4gwUno5wSvKXXKl/KB6v2h+kHFE/Dum02Ew9mr01jiL/Y5+woN+V5Rbf8jgd0GM+565Fi+nnP//ExoNhAoH4D+dOyFyhTKln0XBB1XT3d5ikPz5SBfKvo1fyU+gsaO9X/V8wdcOQzSNQKry5wp+C+tw7qwvma30UdJr1uU7JYXz3Gb1+Vw4B2Y27oU6OuhLTLL/rg7yN6Rb91MUu0xk+51vbtKCZ9ayKcc=
  - secure: ahCroDe98+siMFz8iEhTF9MA8/Qcey0CMbbGID7b6GHnfqiMGgLm5IhKIz13QGn6Y7zxeZuzKJMxAR6GSjcRP8R16ym5pbFAaW/oauSCy337mD7NNelIfoNg20N5C/qgG1FHthrahH0gfeKI/vTyzeKOZu956IzkPuXgMlpwekCT+lPVizem9K4g3/BhMEmEZTnyVa3WkDFaTYL3FYGzjuVzEJZIJsNVYbpYK/R8/t0vO840B3FUJuB0X4+XvjHRL6Q1EybzBoyawP9HJtv/zpxtva03tXaMmRYuonZWBThsBR0BhFT7BFoNxZqZhsUmVpgaM/O1/ciKxlk0J669ddlDb7L30SLge//edE14bYZL/hv+1ZFhC0ZtUas4PwtUKxYTgOA0obcu5GPzoBKT4ZdGCqa0su01yOn+/fffBEm3izUbq0gxfJK2yGHe7yaUzDy9wcInA/GjNR+UqKm8Cw+gM86KphFJ9Xj6sj+rOgoEULrPA6O4OijoMOAWEV59sZeLSDd++4ofzGlJYY7ktXvTNLqhTbv6ct5oRnsIwY2cXlMgKn9oAlSPBxBWIL6saJhK35g2cdxUTZB5Xml8HcePwrKjxbJ2X6bBklHnTXLjUfG/fSiyQJgg60N1QBVo6S8AffXhk+aVUCEiIMy8BkWmQFpCs6cXz/+d9dAMcUE=
  - secure: eSyUGL1/vB9Bvse8+GtN+7Tw21pKmeNpzk+cMyQ8xGiG4LELAtI2thnL4SSuPHyo3v3uTCI4k7m54/n4GHLKSllHdIx+Y1n1Kfve/5wjPsCSe2v3PxcFMxbfXivQ9zbG/kGjYeiJ9dA7aO+NbTuEdfNx2oJpvD6YOwacwvQWc+wmDtLoeTX70opeRNSCmUS43C3xzIxDxFdZI9a8OKBc1GdYtubi/AWy1mXxHBwu3o+IMKX+211gOtG7XZIi3TQzgzwR8xE6CaNoFFc9OrZ7xL1vk4Sg7coH4nfDVcB8TF9yAGTi+N+5SL83d40DBjcsh7XvEHZMywaPBpbA1JDR4AfF0uJQh3ARdsaSTvwSQbre6xa1bbjH4hHe5x2LArLp+3zSJfm+clakAIyVsK0hb9ez8pGp0ESedf1PBQke2vFPrp4jDJPa8Q09gjHFiP7XHFMDqzz8P8yeckZxH38E0iJD+CUTQewYRRKDCrJdoc7+cBl3XEo731GFb6AYHr5aEFQKnUr8vDG9Vdy64dKrvDzsERmhIHeZ4yL6mV4MT7zzaeulnUp8Kda6LFf2sPoH5RK4KKJcw1yRRSlF3SGJH+HKuykKXCqI+XBge8t9QY7cF314i9fhVKiFhM3LA4EbiS86PXfosuJvF6fha6f8p4jQ608LYmRSU4tlbkJesh0=
